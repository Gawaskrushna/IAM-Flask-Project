{% extends "base.html" %}

{% block content %}


<!-- DASHBOARD CARD -->

<div class="card" id="dashboard">

<h2>Admin Dashboard</h2>

<p>User management and access control panel</p>

</div>


<!-- USER MANAGEMENT CARD -->

<div class="card" id="manage-users">

<h3>User Management</h3>


<table>


<tr>

<th>ID</th>
<th>Name</th>
<th>Role</th>
<th>Action</th>

</tr>

{% for user in users %}

<tr>

<td>{{ user[0] }}</td>

<td>{{ user[1] }}</td>

<td>{{ user[3] }}</td>

<td>

<!-- PROTECT SUPERADMIN -->

{% if user[3] == "superadmin" %}

<span style="color:gray; font-weight:bold;">

Protected

</span>

<!-- PROTECT CURRENT ADMIN -->

{% elif user[0] == session["id"] %}

<span style="color:blue; font-weight:bold;">

Your Account

</span>


<!-- ALLOW DELETE -->

{% else %}

<a href="{{ url_for('delete', id=user[0]) }}"

class="btn-danger"

onclick="return confirm('Are you sure you want to delete this account?')">

Delete

</a>

{% endif %}


</td>


</tr>

{% endfor %}


</table>


</div>


<!-- CREATE USER CARD -->

<div class="card">

<h3>Create User</h3>


<form method="POST" action="{{ url_for('add_user') }}">

<input name="username"
placeholder="Username"
required>

<input type="password"
name="password"
placeholder="Password"
required>

<select name="role">

<option value="user">User</option>

<option value="employee">Employee</option>

<option value="admin">Admin</option>

</select>


<button type="submit" class="btn">

Add User

</button>


</form>


</div>



{% endblock %}